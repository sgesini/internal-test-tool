<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paiement sécurisé Dalenys</title>
  <script src="https://js.sandbox.dalenys.com/hosted-fields/v2.2.0/hosted-fields.min.js" type="text/javascript"></script>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>

  <header id="main-header">
  <!-- Sélecteur de thème -->
  <div class="theme-switch-wrapper">
    <span class="theme-label">Light Mode </span>
    <label class="theme-switch" for="theme-toggle">
      <input type="checkbox" id="theme-toggle" />
      <span class="slider round"></span>
    </label>
    <span class="theme-label">Dark Mode</span>
  </div>

  <!-- Navigation -->
  <div id="top-left-corner">
    <a href="../index.html" class="back-home-btn">← Home page</a>
    <button id="open-test-cards" class="primary">Click here to display test cards</button>
  </div>
  </header>
  <div id="payment-wrapper" style="justify-content:center;gap:40px;">

    <!-- FORMULAIRE Paiement -->
    <form method="post" action="javascript:void(0);" id="cart" name="dalenysForm" onsubmit="return tokenizeHandler()"   data-ignore-handler="true"
>
      <p>
        <label>Card number</label>
        <span class="input-container" id="card-container"></span>
        <span id="brand-container"></span>
      </p>
      <div class="pair-fields">
        <p>
          <label>Card expiry</label>
          <span class="input-container" id="expiry-container"></span>
        </p>
        <p>
          <label>Card security code</label>
          <span class="input-container" id="cvv-container"></span>
        </p>
      </div>
      <p class="submit">
        <input type="submit" value="Pay">
      </p>
      <input type="hidden" name="hf-token" id="hf-token">
      <input type="hidden" name="selected-brand" id="selected-brand">
    </form>

         <!-- PANEL Environnements -->
    <div id="env-panel" class="panel">
      <h3>Environments</h3>
      <label for="env-select">Choose an environment :</label>
      <select id="env-select">
        <option value="">-- Choose --</option>
        <option value="new">+ New environment</option>
      </select>
      <label>Nom :</label>
      <input type="text" id="env-name" placeholder="Environment name" />
      <label>Public Key ID :</label>
      <input type="text" id="env-public-key-id" placeholder="ex: key_sandbox_123" />
      <label>Public Key :</label>
      <input type="text" id="env-public-key" placeholder="ex: pk_live_abc" />
      <label>Identifier :</label>
      <input type="text" id="env-identifier" placeholder="ex: IDENTIFIER_123" />
      <label>Secret Key :</label>
      <input type="text" id="env-secret-key" placeholder="Secret Key" />
      <button id="use-env" class="primary">Use</button>
      <button id="delete-env" class="danger">Delete</button>
    </div>

  </div>

 


  <!-- ✅ Pop-in masquée -->
  <div id="test-cards-modal" class="test-modal hidden">
    <div class="test-modal-content">
      <span id="close-test-cards" class="close-btn">&times;</span>
      <h3>Sandbox test cards (click on the card PAN to copy)</h3>
      <div id="test-cards-container"></div>
    </div>
  </div>

  <!-- JS -->
  <script src="../js/env-manager.js"></script>
<script src="../js/script.js"></script>
<script src="../js/payment-utils.js"></script>
<script src="../js/form-handler.js"></script>
<script src="../js/test-cards.js"></script>
<script src="../js/hostedfields-handler.js"></script>
</body>
</html>
